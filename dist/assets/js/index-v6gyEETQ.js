(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const s of o)if(s.type==="childList")for(const r of s.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&i(r)}).observe(document,{childList:!0,subtree:!0});function t(o){const s={};return o.integrity&&(s.integrity=o.integrity),o.referrerPolicy&&(s.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?s.credentials="include":o.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(o){if(o.ep)return;o.ep=!0;const s=t(o);fetch(o.href,s)}})();new Swiper(".slider",{slidesPerView:1,spaceBetween:0,loop:!0,pagination:{el:".swiper-pagination",clickable:!0},navigation:{nextEl:".slider__btn_left",prevEl:".slider__btn_right"},keyboard:!0});class a{constructor(){this.citySubmenu=document.querySelector(".submenu"),this.initialize()}initialize(){("ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0)&&this.citySubmenu.addEventListener("click",this.handleSubmenuClick.bind(this))}handleSubmenuClick(e){e.stopPropagation();const t=e.target.closest("[data-area]"),i=t.querySelector("[data-parent-area]");i&&this.toggleDropdownContent(t,i)}toggleDropdownContent(e,t){this.citySubmenu.querySelectorAll("[data-parent-area]").forEach(i=>{i.style.display="none"}),this.citySubmenu.querySelectorAll("[data-area]").forEach(i=>{i.querySelector(".submenu__item-name").classList.remove("mobile_active")}),e.querySelector(".submenu__item-name").classList.add("mobile_active"),t.style.display=t.style.display==="flex"?"none":"flex"}}new a;class c{constructor(){this.buttonText=document.querySelector(".hero .button__text"),this.updateButtonText(),window.addEventListener("resize",()=>this.updateButtonText())}updateButtonText(){this.buttonText.innerHTML=window.innerWidth<480?"Наш сайт":"На сайт"}}new c;class u{constructor(e){this.mapMenu=document.querySelector(e),this.mapOffices=document.querySelector(".offices__map"),this.dropdownArrow=document.querySelector(".offices__dropdown-arrow"),this.offices=document.querySelector(".offices"),this.submenu=document.querySelector(".offices__dropdown-menu"),this.dropdownBtn=document.querySelector(".offices__inner"),this.mapMenu.addEventListener("click",this.handleMapMenuClick.bind(this)),this.dropdownBtn.addEventListener("mouseenter",this.handleDropdownHover.bind(this)),[this.submenu,this.mapOffices].forEach(t=>{t.addEventListener("click",this.closeMenu.bind(this))})}handleMapMenuClick(e){const t=e.target.dataset.officeId;t&&(this.updateImage(t),this.mapMenu.querySelectorAll("li").forEach(i=>i.classList.remove("active")),e.target.classList.add("active"))}handleDropdownHover(){if(this.submenu.classList.contains("show"))return;const e=document.querySelector('[data-parent-area][style*="display: flex"]');if(e){e.style.display="none";const t=document.querySelector(".submenu__item-name.mobile_active");t&&t.classList.remove("mobile_active")}this.mapMenu.style.opacity=.3,this.mapOffices.style.opacity=.3,this.togglePointerEvents("none"),this.submenu.classList.toggle("show"),this.dropdownArrow.style.transform="rotateX(180deg)"}closeMenu(){this.mapMenu.style.opacity=1,this.mapOffices.style.opacity=1,this.submenu.classList.remove("show"),this.dropdownArrow.style.transform="rotateX(360deg)",this.togglePointerEvents("auto")}updateImage(e){document.querySelector(".offices__image").src=`/peach-project/images/maps/${e}.png`}togglePointerEvents(e){this.mapMenu.querySelectorAll("[data-office-id]").forEach(t=>{t.style.pointerEvents=e})}}new u(".offices__menu");
